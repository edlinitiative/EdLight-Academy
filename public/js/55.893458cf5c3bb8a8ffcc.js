"use strict";(self.webpackChunkedlight_academy=self.webpackChunkedlight_academy||[]).push([[55],{9055:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var r=a(4705),c=(a(6540),a(7767)),t=a(9871),i=a(8062),n=a(1245),d=a(4848);function l(){var e;const{allProgress:s,loading:a}=(0,n.sL)();if(a)return(0,d.jsx)("div",{className:"card",children:(0,d.jsx)("p",{className:"text-muted",children:"Loading progress..."})});if(!s||0===s.length)return(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h3",{children:"Your Progress"}),(0,d.jsx)("p",{className:"text-muted",children:"Start learning to track your progress!"})]});const r=s.reduce((e,s)=>e+(s.totalPoints||0),0),c=s.flatMap(e=>e.badges||[]),t=[...new Set(c)],i=(Math.max(...s.map(e=>e.longestStreak||0),0),(null===(e=s[0])||void 0===e?void 0:e.currentStreak)||0);return(0,d.jsxs)("div",{className:"progress-dashboard",children:[(0,d.jsxs)("div",{className:"progress-dashboard__header",children:[(0,d.jsx)("h2",{children:"Your Learning Journey"}),(0,d.jsx)("p",{className:"text-muted",children:"Track your achievements and progress"})]}),(0,d.jsxs)("div",{className:"progress-dashboard__stats",children:[(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("div",{className:"stat-card__icon",children:"ðŸŽ¯"}),(0,d.jsx)("div",{className:"stat-card__value",children:r}),(0,d.jsx)("div",{className:"stat-card__label",children:"Total Points"})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("div",{className:"stat-card__icon",children:"ðŸ†"}),(0,d.jsx)("div",{className:"stat-card__value",children:t.length}),(0,d.jsx)("div",{className:"stat-card__label",children:"Badges Earned"})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("div",{className:"stat-card__icon",children:"ðŸ”¥"}),(0,d.jsx)("div",{className:"stat-card__value",children:i}),(0,d.jsx)("div",{className:"stat-card__label",children:"Day Streak"})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("div",{className:"stat-card__icon",children:"ðŸ“š"}),(0,d.jsx)("div",{className:"stat-card__value",children:s.length}),(0,d.jsx)("div",{className:"stat-card__label",children:"Active Courses"})]})]}),(0,d.jsxs)("div",{className:"progress-dashboard__badges",children:[(0,d.jsx)("h3",{children:"Recent Achievements"}),t.length>0?(0,d.jsx)("div",{className:"badge-grid",children:t.slice(0,6).map(e=>{return(0,d.jsxs)("div",{className:"achievement-badge",children:[(0,d.jsx)("div",{className:"achievement-badge__icon",children:(s=e,{first_lesson:"ðŸŽ“",quiz_enthusiast:"ðŸ“",perfectionist:"ðŸ’¯",point_collector:"ðŸ’Ž",week_streak:"ðŸ”¥",month_streak:"âš¡",legend_streak:"ðŸ‘‘"}[s]||"ðŸ…")}),(0,d.jsx)("div",{className:"achievement-badge__name",children:o(e)})]},e);var s})}):(0,d.jsx)("p",{className:"text-muted",children:"Complete quizzes and lessons to earn badges!"})]}),(0,d.jsxs)("div",{className:"progress-dashboard__courses",children:[(0,d.jsx)("h3",{children:"Course Progress"}),(0,d.jsx)("div",{className:"course-progress-list",children:s.map(e=>{var s;const a=(null===(s=e.completedLessons)||void 0===s?void 0:s.length)||0;return(0,d.jsxs)("div",{className:"course-progress-item",children:[(0,d.jsxs)("div",{className:"course-progress-item__header",children:[(0,d.jsx)("span",{className:"course-progress-item__name",children:e.courseId}),(0,d.jsxs)("span",{className:"course-progress-item__points",children:[e.totalPoints||0," pts"]})]}),(0,d.jsxs)("div",{className:"course-progress-item__stats",children:[(0,d.jsxs)("span",{className:"text-muted",children:[a," lessons completed"]}),e.currentStreak>0&&(0,d.jsxs)("span",{className:"course-progress-item__streak",children:["ðŸ”¥ ",e.currentStreak," day streak"]})]})]},e.courseId)})})]})]})}function o(e){return{first_lesson:"First Lesson",quiz_enthusiast:"Quiz Enthusiast",perfectionist:"Perfectionist",point_collector:"Point Collector",week_streak:"7 Day Streak",month_streak:"30 Day Streak",legend_streak:"100 Day Streak"}[e]||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}var h=a(7791);function m(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function u(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?m(Object(a),!0).forEach(function(s){(0,r.A)(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function p(){const e=(0,c.Zp)(),{data:s,isLoading:a}=(0,t.dp)(),{user:r,enrolledCourses:n,progress:o,quizAttempts:m}=(0,i.A)();if(a)return(0,d.jsx)("section",{className:"section",children:(0,d.jsx)("div",{className:"container",style:{display:"grid",placeItems:"center",minHeight:"320px"},children:(0,d.jsx)("div",{className:"loading-spinner"})})});const p=n.length,_=Object.entries(m).flatMap(e=>{let[a,r]=e;return r.map(e=>u(u({},e),{},{quizId:a,quiz:s.quizzes.find(e=>e.quiz_id===a)}))}).sort((e,s)=>new Date(s.date)-new Date(e.date)),j=_.length,x=j?Math.round(_.reduce((e,s)=>e+(s.score||0),0)/j*100):0,v=(0,h.O4)(r);return(0,d.jsx)("section",{className:"section",children:(0,d.jsxs)("div",{className:"container dashboard-grid",children:[(0,d.jsxs)("div",{className:"page-header",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"page-header__eyebrow",children:"Welcome back"}),(0,d.jsxs)("h1",{children:["Hi ",v||"there",", letâ€™s continue your journey"]}),(0,d.jsx)("p",{className:"text-muted",children:"Pick up a course, review your quiz streak, or explore a new subject."})]}),(0,d.jsx)("div",{className:"page-header__actions",children:(0,d.jsx)("button",{className:"button button--ghost button--pill",onClick:()=>e("/courses"),children:"Browse Catalog"})})]}),(0,d.jsxs)("div",{className:"grid grid--metrics",children:[(0,d.jsxs)("div",{className:"metric-card",children:[(0,d.jsx)("div",{className:"metric-card__icon","aria-hidden":!0,children:"ðŸ“š"}),(0,d.jsx)("span",{className:"metric-card__eyebrow",children:"Courses in progress"}),(0,d.jsx)("span",{className:"metric-card__value",children:p}),(0,d.jsx)("span",{className:"metric-card__caption",children:"Stay consistent to unlock mastery badges."})]}),(0,d.jsxs)("div",{className:"metric-card",children:[(0,d.jsx)("div",{className:"metric-card__icon","aria-hidden":!0,children:"âœ…"}),(0,d.jsx)("span",{className:"metric-card__eyebrow",children:"Quizzes completed"}),(0,d.jsx)("span",{className:"metric-card__value",children:j}),(0,d.jsx)("span",{className:"metric-card__caption",children:"Practice makes perfect â€” keep the streak alive."})]}),(0,d.jsxs)("div",{className:"metric-card",children:[(0,d.jsx)("div",{className:"metric-card__icon","aria-hidden":!0,children:"ðŸŽ¯"}),(0,d.jsx)("span",{className:"metric-card__eyebrow",children:"Average score"}),(0,d.jsxs)("span",{className:"metric-card__value",children:[x,"%"]}),(0,d.jsx)("span",{className:"metric-card__caption",children:"Aim for 85%+ to unlock advanced lessons."})]})]}),(0,d.jsxs)("div",{className:"dashboard-section",children:[(0,d.jsxs)("div",{className:"dashboard-section__header",children:[(0,d.jsx)("h2",{className:"dashboard-section__title",children:"Enrolled Courses"}),(0,d.jsx)("button",{className:"button button--light button--pill",onClick:()=>e("/courses"),children:"Add More Courses"})]}),n.length>0?(0,d.jsx)("div",{className:"grid grid--courses",children:n.map(s=>{var a;const r=((e,s)=>{const a=o[e]||{completed:0,total:s||1},r=a.total||s||1,c=a.completed||0,t=r?Math.round(c/r*100):0;return{completed:c,total:r,percent:Number.isFinite(t)?Math.min(100,t):0}})(s.id,null===(a=s.modules)||void 0===a?void 0:a.length);return(0,d.jsxs)("article",{className:"course-card",children:[(0,d.jsxs)("div",{className:"course-card__head",children:[(0,d.jsxs)("span",{className:"course-card__badge",children:[s.subject," Â· ",s.level]}),(0,d.jsx)("span",{className:"chip chip--success",children:"In Progress"})]}),(0,d.jsx)("h3",{className:"course-card__title",children:s.name||s.title}),(0,d.jsx)("p",{className:"course-card__description",children:s.description}),(0,d.jsxs)("div",{className:"course-card__footer",children:[(0,d.jsxs)("div",{className:"course-progress",children:[(0,d.jsxs)("span",{children:[r.percent,"% complete"]}),(0,d.jsx)("div",{className:"progress-bar",children:(0,d.jsx)("span",{className:"progress-bar__fill",style:{width:"".concat(r.percent,"%")}})}),(0,d.jsxs)("span",{className:"text-muted text-xs",children:[r.completed,"/",r.total," lessons finished"]})]}),(0,d.jsxs)("div",{className:"course-card__actions",children:[(0,d.jsx)("button",{className:"button button--primary button--pill",onClick:()=>e("/courses/".concat(s.id)),children:"Continue"}),(0,d.jsx)("button",{className:"course-card__cta",onClick:()=>e("/courses/".concat(s.id)),children:"View Details â†’"})]})]})]},s.id)})}):(0,d.jsxs)("div",{className:"dashboard-empty",children:[(0,d.jsx)("p",{children:"No courses yet. Browse the catalog to enroll in your first lesson bundle."}),(0,d.jsx)("div",{style:{marginTop:"1rem"},children:(0,d.jsx)("button",{className:"button button--primary button--pill",onClick:()=>e("/courses"),children:"Explore Courses"})})]})]}),(0,d.jsx)("div",{className:"dashboard-section",children:(0,d.jsx)(l,{})}),(0,d.jsxs)("div",{className:"dashboard-section",children:[(0,d.jsxs)("div",{className:"dashboard-section__header",children:[(0,d.jsx)("h2",{className:"dashboard-section__title",children:"Recent Activity"}),j>0&&(0,d.jsxs)("span",{className:"chip chip--ghost",children:["Last ",Math.min(5,j)," quiz results"]})]}),j>0?(0,d.jsx)("div",{className:"dashboard-activity",children:_.slice(0,5).map((e,s)=>{var a;const r=1===e.score;return(0,d.jsxs)("div",{className:"activity-item",children:[(0,d.jsxs)("div",{className:"activity-item__meta",children:[(0,d.jsx)("span",{className:"activity-item__question",children:(null===(a=e.quiz)||void 0===a?void 0:a.question)||"Quiz question"}),(0,d.jsx)("span",{className:"activity-item__date",children:new Date(e.date).toLocaleDateString()})]}),(0,d.jsx)("span",{className:["activity-item__tag",r?"activity-item__tag--success":"activity-item__tag--error"].join(" "),children:r?"Correct":"Incorrect"})]},"".concat(e.quizId,"-").concat(s))})}):(0,d.jsx)("div",{className:"dashboard-empty",children:(0,d.jsx)("p",{children:"No quizzes attempted yet. Take a quiz to see your performance summary here."})})]})]})})}}}]);