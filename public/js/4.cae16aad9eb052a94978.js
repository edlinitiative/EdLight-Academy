"use strict";(self.webpackChunkedlight_academy=self.webpackChunkedlight_academy||[]).push([[4],{1004:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s(6540),r=s(3643),a=s(9871),l=s(4848);const i=()=>{var e;const{data:t}=(0,a.dp)(),i=null==t?void 0:t.quizBank,c=(null==t?void 0:t.courses)||[],[o,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),x=(0,n.useMemo)(()=>{const e=new Map;for(const t of c)e.set(t.subject,t.subject);const t={CHEM:"Chemistry",PHYS:"Physics",MATH:"Mathematics",ECON:"Economics"};return Array.from(e.values()).map(e=>({value:e,label:t[e]||e}))},[c]);(0,n.useEffect)(()=>{!o&&x[0]&&d(x[0].value)},[x,o]);const v=(0,n.useMemo)(()=>{const e=new Set(c.filter(e=>e.subject===o).map(e=>e.level)),t=["NSI","NSII","NSIII","NSIV"],s=Array.from(e);return s.sort((e,s)=>t.indexOf(e)-t.indexOf(s)),s.map(e=>({value:e,label:e.replace(/^NS(.*)$/i,"NS $1")}))},[c,o]);(0,n.useEffect)(()=>{var e,t;null!==(e=v.find(e=>e.value===u))&&void 0!==e&&e.value||h((null===(t=v[0])||void 0===t?void 0:t.value)||"")},[v,u]);const j=o&&u?"".concat(o,"-").concat(u):"",g=(0,n.useMemo)(()=>{const e=c.find(e=>e.code===j||e.id===j);return[...(null==e?void 0:e.modules)||[]].sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>({value:e.id,label:e.title||e.id}))},[c,j]);(0,n.useEffect)(()=>{var e,t;null!==(e=g.find(e=>e.value===m))&&void 0!==e&&e.value||p((null===(t=g[0])||void 0===t?void 0:t.value)||"")},[g,m]);const f=(0,n.useMemo)(()=>{var e,t;const s=m&&j?"".concat(j,"|").concat(m):"",n=(null==i?void 0:i.byUnit)&&s&&(null===(e=i.byUnit[s])||void 0===e?void 0:e.length)||0,r=(null==i?void 0:i.bySubject)&&j&&(null===(t=i.bySubject[j])||void 0===t?void 0:t.length)||0;return{unitCount:n,subjCount:r,count:n||r||0}},[i,j,m]),[y,N]=(0,n.useState)(null),[b,S]=(0,n.useState)(""),[w,q]=(0,n.useState)(!1);return(0,l.jsx)("section",{className:"section",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("div",{className:"page-header",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"page-header__eyebrow",children:"Practice Hub"}),(0,l.jsx)("h1",{children:"Curriculum Practice"}),(0,l.jsx)("p",{className:"text-muted",children:"Choose your course, grade, and unit to practice with targeted questions. Get up to three tries with helpful hints."})]})}),(0,l.jsxs)("div",{className:"quiz-layout",children:[(0,l.jsxs)("div",{className:"quiz-filters",children:[(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("h3",{className:"card__title",children:"Select Practice Area"}),(0,l.jsxs)("div",{className:"quiz-selectors",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"label",children:"Course"}),(0,l.jsx)("select",{className:"input-field",value:o,onChange:e=>d(e.target.value),children:x.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"label",children:"Grade Level"}),(0,l.jsx)("select",{className:"input-field",value:u,onChange:e=>h(e.target.value),children:v.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"label",children:"Unit"}),(0,l.jsx)("select",{className:"input-field",value:m,onChange:e=>p(e.target.value),children:g.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"quiz-status",children:[(0,l.jsxs)("span",{className:"chip chip--success",children:[f.count," question",1===f.count?"":"s"," available"]}),o&&u&&(0,l.jsxs)("span",{className:"chip",children:[(null===(e=x.find(e=>e.value===o))||void 0===e?void 0:e.label)||o," Â· ",u.replace(/^NS(.*)$/i,"NS $1")]})]}),(0,l.jsx)("button",{type:"button",onClick:async()=>{try{if(q(!0),N(null),S(""),!i||!j||!m)return void S("Select a course, grade, and unit to begin.");const{pickRandomQuestion:e,toDirectItemFromRow:t}=s(7280);let n=e(i.byUnit,j,m,i.bySubject);if(!n&&Array.isArray(i.rows)&&i.rows.length>0){const e=Math.floor(Math.random()*i.rows.length);n=i.rows[e]}if(!n)return void S("No curriculum practice available for this selection yet.");const r=t(n);N(r)}catch(e){console.error("Curriculum practice failed",e),S("Unable to load curriculum practice right now.")}finally{q(!1)}},className:"button button--primary",disabled:w,style:{width:"100%",marginTop:"1rem"},children:w?"Loadingâ€¦":y?"Next Question":"Start Practice"})]}),(0,l.jsxs)("div",{className:"card card--compact",children:[(0,l.jsx)("h3",{className:"card__title",children:"How It Works"}),(0,l.jsxs)("ul",{className:"list--bulleted text-muted",children:[(0,l.jsx)("li",{children:"Three tries per question"}),(0,l.jsx)("li",{children:"Progressive hints after each incorrect answer"}),(0,l.jsx)("li",{children:"Full explanation revealed after third try"})]})]})]}),(0,l.jsx)("div",{className:"quiz-panel",children:y?(0,l.jsx)("div",{className:"card",children:(0,l.jsx)(r.A,{item:y})}):(0,l.jsx)("div",{className:"card quiz-placeholder",children:(0,l.jsxs)("div",{className:"quiz-placeholder__content",children:[(0,l.jsx)("h3",{children:"Ready to Practice?"}),(0,l.jsx)("p",{className:"text-muted",children:b||'Select a course, grade, and unit, then click "Start Practice" to begin.'}),!b&&(0,l.jsx)("div",{className:"quiz-placeholder__icon",children:"ðŸ“š"})]})})})]})]})})}},3643:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(6540),r=s(7791),a=s(4848);function l(e){let{item:t,onScore:s}=e;const l=(0,r.n7)(),[i,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[x,v]=(0,n.useState)(0);(0,n.useEffect)(()=>{c(null),d(""),h(!1),p(null),v(0)},[t]);const j=()=>{if(!u){const e=3-x;return(0,a.jsxs)("span",{className:"chip chip--ghost",children:[e," ",1===e?"try":"tries"," left"]})}return m?(0,a.jsx)("span",{className:"chip chip--success",children:"âœ“ Correct"}):(0,a.jsx)("span",{className:"chip chip--danger",children:"Out of tries"})},g=!u&&x>0&&Array.isArray(t.hints)?t.hints[Math.min(x-1,t.hints.length-1)]:"",f=(0,n.useMemo)(()=>{var e;return"mcq"===t.kind||"tf"===t.kind?null!==(e=t.correctLabel)&&void 0!==e?e:Array.isArray(t.options)?t.options[t.correctIndex]:"":t.correctText||""},[t]);return(0,a.jsxs)("div",{className:"card",style:{padding:"1rem"},children:[(0,a.jsxs)("div",{className:"quiz-card__header",style:{marginBottom:"0.5rem"},children:[(0,a.jsx)("div",{className:"quiz-card__title",children:(0,a.jsx)("span",{className:"quiz-card__label",children:"Curriculum Practice"})}),(0,a.jsx)(j,{})]}),(0,a.jsx)("div",{className:"quiz-card__question",dangerouslySetInnerHTML:(0,r.qZ)(t.stem,l)}),"mcq"===t.kind||"tf"===t.kind?(0,a.jsx)("div",{className:"quiz-card__options",children:t.options.map((e,t)=>(0,a.jsxs)("label",{className:"radio-option",children:[(0,a.jsx)("input",{type:"radio",name:"bank-answer",value:t,checked:i===t,onChange:()=>c(t),disabled:u}),(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(e,l)})]},t))}):(0,a.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter your answer",value:o,onChange:e=>d(e.target.value),disabled:u}),g&&(0,a.jsxs)("div",{className:"hint-box",style:{margin:"0.5rem 0"},children:[(0,a.jsx)("strong",{children:"Hint:"})," ",(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(g,l)})]}),(0,a.jsx)("div",{className:"quiz-card__controls",children:(0,a.jsx)("button",{type:"button",className:"button button--primary button--sm",onClick:()=>{let e=!1;if("mcq"===t.kind||"tf"===t.kind){if(null===i)return;e=i===t.correctIndex}else{const s=e=>String(e||"").trim().toLowerCase();e=s(o)===s(t.correctText)}if(e)return h(!0),p(!0),void(s&&s({correct:1,message:"correct"}));const n=x+1;v(n),n>=3?(h(!0),p(!1),s&&s({correct:0,message:"exhausted_attempts"})):(p(!1),s&&s({correct:0,message:"attempt_".concat(n)}))},disabled:u||("mcq"===t.kind||"tf"===t.kind?null===i:0===o.trim().length),children:u?"Answered":x>0?"Try Again":"Check Answer"})}),u&&(0,a.jsx)("div",{className:"quiz-card__explanation",style:{marginTop:"0.75rem"},children:m?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,a.jsx)("strong",{children:"Correct!"})," ",f?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("em",{children:"Answer:"})," ",(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(f,l)})]}):null]}),t.good&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Explanation:"})," ",(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(t.good,l)})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,a.jsx)("strong",{children:"Correct answer:"})," ",(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(f,l)})]}),(t.good||t.wrong)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Explanation:"})," ",(0,a.jsx)("span",{dangerouslySetInnerHTML:(0,r.qZ)(t.good||t.wrong,l)})]})]})})]})}},7791:(e,t,s)=>{s.d(t,{O4:()=>c,R3:()=>o,n7:()=>l,qZ:()=>i});var n=s(6540);const r="https://unpkg.com/katex@0.16.9/dist/katex.min.css",a="https://unpkg.com/katex@0.16.9/dist/katex.min.js";function l(){const[e,t]=(0,n.useState)("undefined"!=typeof window&&!!window.katex);return(0,n.useEffect)(()=>{e||(function(e){if(document.querySelector('link[href="'.concat(e,'"]')))return;const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}(r),function(e,t){if(document.querySelector('script[src="'.concat(e,'"]')))return void(t&&t());const s=document.createElement("script");s.src=e,s.async=!0,s.onload=t||null,document.body.appendChild(s)}(a,()=>t(!0)))},[e]),e}function i(e,t){if(!e)return{__html:""};let s=String(e);return t&&"undefined"!=typeof window&&window.katex?(s=s.replace(/\\\((.+?)\\\)/g,(e,t)=>{try{return window.katex.renderToString(t,{throwOnError:!1})}catch(t){return e}}),s=s.replace(/\$\$([\s\S]+?)\$\$/g,(e,t)=>{try{return window.katex.renderToString(t,{displayMode:!0,throwOnError:!1})}catch(t){return e}})):s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>"),{__html:s}}function c(e){return e&&(e.firstName&&String(e.firstName).trim()||e.name&&String(e.name).trim().split(/\s+/)[0]||e.email&&String(e.email).split("@")[0])||""}function o(e){const t=e.slice();for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}}}]);