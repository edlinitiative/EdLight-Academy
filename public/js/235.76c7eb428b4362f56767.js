"use strict";(self.webpackChunkedlight_academy=self.webpackChunkedlight_academy||[]).push([[235],{3212:(e,t,r)=>{r.d(t,{A:()=>p});var s=r(4705),i=r(3986),n=(r(6540),r(9524)),c=r(9123),o=r(7685),l=r(6313),a=r(4848);const d=["node"],x=["node"],h=["node"],u=["node"],f=["node"],g=["node"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e){let{text:t}=e;return t?(0,a.jsx)("div",{className:"instruction-renderer",children:(0,a.jsx)(n.oz,{remarkPlugins:[c.A,o.A],rehypePlugins:[l.A],components:{p:e=>{let{node:t}=e,r=(0,i.A)(e,d);return(0,a.jsx)("p",j({className:"instruction-renderer__p"},r))},ul:e=>{let{node:t}=e,r=(0,i.A)(e,x);return(0,a.jsx)("ul",j({className:"instruction-renderer__ul"},r))},ol:e=>{let{node:t}=e,r=(0,i.A)(e,h);return(0,a.jsx)("ol",j({className:"instruction-renderer__ol"},r))},h1:e=>{let{node:t}=e,r=(0,i.A)(e,u);return(0,a.jsx)("strong",j({className:"instruction-renderer__heading"},r))},h2:e=>{let{node:t}=e,r=(0,i.A)(e,f);return(0,a.jsx)("strong",j({className:"instruction-renderer__heading"},r))},h3:e=>{let{node:t}=e,r=(0,i.A)(e,g);return(0,a.jsx)("strong",j({className:"instruction-renderer__heading"},r))}},children:t})}):null}},7028:(e,t,r)=>{r.d(t,{A:()=>W});var s=r(6540),i=r(4848);let n=null,c=!1;const o=[];function l(e){if(n)return e(n);if(o.push(e),!c){if(c=!0,!document.getElementById("katex-css")){const e=document.createElement("link");e.id="katex-css",e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css",document.head.appendChild(e)}Promise.resolve().then(r.bind(r,2130)).then(e=>{n=e.default||e,o.forEach(e=>e(n)),o.length=0})}}const a={TABLE:"table",GRAPH:"graph",CIRCUIT:"circuit",DIAGRAM:"diagram",GEOMETRY:"geometry",EQUATION:"equation",CHEMISTRY:"chemistry",TEXT:"text",IMAGE:"image"};function d(e){let{text:t}=e;const r=(0,s.useRef)(null),[,c]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l(()=>c(!0))},[]),(0,s.useEffect)(()=>{if(!r.current||!n)return;const e=t.split(/(\$[^$]+\$)/g);r.current.innerHTML="",e.forEach(e=>{if(e.startsWith("$")&&e.endsWith("$")){const t=document.createElement("span");try{n.render(e.slice(1,-1),t,{throwOnError:!1,displayMode:!1})}catch(r){t.textContent=e}r.current.appendChild(t)}else r.current.appendChild(document.createTextNode(e))})},[t,n]),(0,i.jsx)("span",{ref:r,children:t.replace(/\$[^$]+\$/g,"‚Ä¶")})}function x(e){let{description:t}=e;const r=(0,s.useMemo)(()=>function(e){const t=e||"";let r=[];const s=t.match(/(?:columns?|colonnes?)\s*[:=]\s*([^.]+)/i);s&&(r=s[1].split(/,\s*/).map(e=>e.trim()).filter(Boolean)),0===r.length&&t.match(/(?:premi√®re|first)\s+(?:ligne|row).*?(?:intitul√©e|is|est|:)\s*['"]?([^'"]+?)['"]?\s+(?:et |and |contient|avec|with|has|values?)/i);const i=[],n=t.matchAll(/(?:(?:row|ligne|rang√©e)\s*\d*|deuxi√®me ligne|troisi√®me ligne|premi√®re ligne)[^.]*?(?:contient|has|avec|values?|valeurs?)\s*(?:les valeurs\s*)?[:=]?\s*([0-9$.,\s/\-a-zA-Z√†√©√®√™√¥√π√ß]+?)(?:\.|$)/gi);for(const e of n){const t=e[1].split(/,\s*/).map(e=>e.trim()).filter(Boolean);t.length>0&&i.push(t)}const c=[...t.matchAll(/(?:ligne|row)[^.]*?intitul√©e\s*['"]([^'"]+)['"][^.]*?(?:contient|valeurs?|values?)\s*(?:les valeurs\s*)?[:=]?\s*([\d.,\s$%]+)/gi)];if(c.length>0){r=[];const e=[];for(const t of c){const s=t[1].trim(),i=t[2].split(/,\s*/).map(e=>e.trim()).filter(Boolean);r.push(s),e.push(i)}if(e.length>0){const t=Math.max(...e.map(e=>e.length)),s=[];for(let r=0;r<t;r++)s.push(e.map(e=>e[r]||""));return{headers:r,rows:s}}}const o=[...t.matchAll(/\(([^)]+)\)/g)];if(o.length>=2&&r.length>0)for(const e of o){const t=e[1].split(/,\s*/).map(e=>e.trim());t.length>=2&&i.push(t)}const l=t.match(/(?:Pays|Country)\s+\w+\s*=\s*[\d.]+/gi);if(l&&l.length>=2){const e=[...t.matchAll(/([A-Z√Ä-√ú][^(,:.]+?)\s*\((?:Pays|Country)\s+(\w+)\s*=\s*([^,)]+),?\s*(?:Pays|Country)\s+(\w+)\s*=\s*([^)]+)\)/gi)];if(e.length>0){const t=e[0][2],s=e[0][4];r=["Indicateur","Pays ".concat(t),"Pays ".concat(s)];for(const t of e)i.push([t[1].trim(),t[3].trim(),t[5].trim()])}}if(r.length>0&&i.length>0){const e=i.map(e=>{for(;e.length<r.length;)e.push("");return e.slice(0,r.length)});return{headers:r,rows:e}}return r.length>0?{headers:r,rows:i}:null}(t),[t]);return r?(0,i.jsx)("div",{className:"figure-render figure-render--table",children:(0,i.jsx)("div",{className:"figure-render__table-wrap",children:(0,i.jsxs)("table",{className:"figure-render__table",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:r.headers.map((e,t)=>(0,i.jsx)("th",{children:(0,i.jsx)(d,{text:e})},t))})}),(0,i.jsx)("tbody",{children:r.rows.map((e,t)=>(0,i.jsx)("tr",{children:e.map((e,t)=>(0,i.jsx)("td",{children:(0,i.jsx)(d,{text:e})},t))},t))})]})})}):(0,i.jsx)(_,{description:t,icon:"üìä",label:"Tableau"})}function h(e){let{description:t}=e;const r=t||"",s=[],n={x:"",y:"",title:""},c=r.match(/(?:axe|axis)\s+(?:horizontal|des x|des abscisses|X)[^.]*?(?:√©tiquet√©|labeled|est|:)\s*['"]?([^'",.]+)/i),o=r.match(/(?:axe|axis)\s+(?:vertical|des y|des ordonn√©es|Y)[^.]*?(?:√©tiquet√©|labeled|est|:)\s*['"]?([^'",.]+)/i),l=r.match(/(?:intitul√©|titled|title)\s*['"]?([^'",.]+)/i);c&&(n.x=c[1].trim()),o&&(n.y=o[1].trim()),l&&(n.title=l[1].trim());const a=[...r.matchAll(/courbe\s+(?:√©tiquet√©e|nomm√©e)?\s*['"]?([^'",.]+)|(?:curve|line)\s+(?:labeled|named)?\s*['"]?([^'",.]+)/gi)];for(const e of a){const t=(e[1]||e[2]||"").trim();t&&s.push({name:t,type:u(t,r)})}return 0===s.length&&(/croissante|increasing|ascending|monotone/.test(r)&&s.push({name:"f(x)",type:"increasing"}),/d√©croissante|decreasing|descending/.test(r)&&s.push({name:"g(x)",type:"decreasing"}),/verticale|vertical/.test(r)&&s.push({name:"",type:"vertical"})),(0,i.jsxs)("div",{className:"figure-render figure-render--graph",children:[n.title&&(0,i.jsx)("div",{className:"figure-render__graph-title",children:(0,i.jsx)(d,{text:n.title})}),(0,i.jsxs)("svg",{viewBox:"0 0 300 220",className:"figure-render__graph-svg",children:[(0,i.jsx)("defs",{children:(0,i.jsx)("pattern",{id:"grid",width:"30",height:"30",patternUnits:"userSpaceOnUse",children:(0,i.jsx)("path",{d:"M 30 0 L 0 0 0 30",fill:"none",stroke:"rgba(0,0,0,0.06)",strokeWidth:"0.5"})})}),(0,i.jsx)("rect",{x:"40",y:"10",width:"240",height:"180",fill:"url(#grid)"}),(0,i.jsx)("line",{x1:"40",y1:"190",x2:"280",y2:"190",stroke:"#333",strokeWidth:"1.5",markerEnd:"url(#arrowX)"}),(0,i.jsx)("line",{x1:"40",y1:"190",x2:"40",y2:"10",stroke:"#333",strokeWidth:"1.5",markerEnd:"url(#arrowY)"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("marker",{id:"arrowX",markerWidth:"8",markerHeight:"6",refX:"8",refY:"3",orient:"auto",children:(0,i.jsx)("path",{d:"M0,0 L8,3 L0,6",fill:"#333"})}),(0,i.jsx)("marker",{id:"arrowY",markerWidth:"6",markerHeight:"8",refX:"3",refY:"0",orient:"auto",children:(0,i.jsx)("path",{d:"M0,8 L3,0 L6,8",fill:"#333"})})]}),(0,i.jsx)("text",{x:"32",y:"205",fontSize:"11",textAnchor:"end",fill:"#666",children:"O"}),n.x&&(0,i.jsx)("text",{x:"270",y:"210",fontSize:"10",fill:"#333",textAnchor:"end",children:n.x}),n.y&&(0,i.jsx)("text",{x:"15",y:"18",fontSize:"10",fill:"#333",textAnchor:"start",children:n.y}),0===s.length&&(0,i.jsx)("path",{d:"M50,170 C100,160 160,100 240,40",fill:"none",stroke:"var(--primary, #3b82f6)",strokeWidth:"2"}),s.map((e,t)=>{const r=["#3b82f6","#ef4444","#22c55e","#f59e0b"],n=r[t%r.length],c=function(e,t){switch(e){case"decreasing":return"M50,40 C120,50 200,140 260,170";case"vertical":return"M160,20 L160,180";case"concave":return"M50,170 C90,90 150,55 260,40";case"parabola":return"M50,40 Q160,190 260,40";default:return"M50,".concat(170-15*t," C100,").concat(155-15*t," 180,").concat(80-10*t," 260,").concat(30+10*t)}}(e.type,t,s.length);return(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:c,fill:"none",stroke:n,strokeWidth:"2"}),e.name&&(0,i.jsx)("text",{x:250,y:30+18*t,fontSize:"10",fill:n,fontWeight:"600",children:e.name})]},t)})]}),(0,i.jsx)("div",{className:"figure-render__graph-desc",children:(0,i.jsx)(d,{text:t})})]})}function u(e,t){const r=(e+" "+t).toLowerCase();return/vertical/.test(r)?"vertical":/d√©croissante|decreasing|demand|dg/.test(r)?"decreasing":/croissante|increasing|supply|og|offre/.test(r)?"increasing":/concave|diminue|production/.test(r)?"concave":/parabole|quadratic/.test(r)?"parabola":"increasing"}function f(e){let{description:t}=e;const r=(t||"").toLowerCase(),s=(r.match(/r√©sistance|resistor/g)||[]).length||0,n=(r.match(/condensateur|capacitor|capacit√©/g)||[]).length||0,c=/parall√®le|parallel/.test(r);return/s√©rie|series/.test(r),(0,i.jsxs)("div",{className:"figure-render figure-render--circuit",children:[(0,i.jsxs)("svg",{viewBox:"0 0 320 180",className:"figure-render__circuit-svg",children:[(0,i.jsx)("line",{x1:"30",y1:"90",x2:"70",y2:"90",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("circle",{cx:"30",cy:"90",r:"12",fill:"none",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"30",y:"94",fontSize:"10",textAnchor:"middle",fill:"#333",children:"E"}),(0,i.jsx)("line",{x1:"70",y1:"90",x2:"90",y2:"90",stroke:"#333",strokeWidth:"1.5"}),s>0&&(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M90,90 L100,80 L110,100 L120,80 L130,100 L140,90",fill:"none",stroke:"#e63946",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"115",y:"72",fontSize:"9",textAnchor:"middle",fill:"#e63946",children:"R"})]}),n>0&&(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:"160",y1:"90",x2:"175",y2:"90",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("line",{x1:"175",y1:"75",x2:"175",y2:"105",stroke:"#457b9d",strokeWidth:"2"}),(0,i.jsx)("line",{x1:"182",y1:"75",x2:"182",y2:"105",stroke:"#457b9d",strokeWidth:"2"}),(0,i.jsx)("line",{x1:"182",y1:"90",x2:"197",y2:"90",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"178",y:"70",fontSize:"9",textAnchor:"middle",fill:"#457b9d",children:"C"})]}),c&&(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:"200",y1:"90",x2:"200",y2:"55",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"200",y1:"90",x2:"200",y2:"125",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"200",y1:"55",x2:"270",y2:"55",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"200",y1:"125",x2:"270",y2:"125",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"270",y1:"55",x2:"270",y2:"125",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("path",{d:"M220,55 L228,47 L236,63 L244,47 L252,55",fill:"none",stroke:"#e63946",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"236",y:"42",fontSize:"8",textAnchor:"middle",fill:"#e63946",children:"R‚ÇÅ"}),(0,i.jsx)("path",{d:"M220,125 L228,117 L236,133 L244,117 L252,125",fill:"none",stroke:"#2a9d8f",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"236",y:"142",fontSize:"8",textAnchor:"middle",fill:"#2a9d8f",children:"R‚ÇÇ"})]}),(0,i.jsx)("line",{x1:c?270:n>0?197:140,y1:"90",x2:"290",y2:"90",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("line",{x1:"290",y1:"90",x2:"290",y2:"150",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("line",{x1:"290",y1:"150",x2:"30",y2:"150",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("line",{x1:"30",y1:"150",x2:"30",y2:"102",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("circle",{cx:"70",cy:"90",r:"2",fill:"#333"}),(0,i.jsx)("text",{x:"70",y:"82",fontSize:"9",textAnchor:"middle",fill:"#333",children:"A"}),(0,i.jsx)("circle",{cx:"290",cy:"90",r:"2",fill:"#333"}),(0,i.jsx)("text",{x:"290",y:"82",fontSize:"9",textAnchor:"middle",fill:"#333",children:"B"})]}),(0,i.jsx)("div",{className:"figure-render__circuit-desc",children:(0,i.jsx)(d,{text:t})})]})}function g(e){let{description:t}=e;const r=(t||"").toLowerCase(),s=/pendule/.test(r),n=/concentric|concentri|cible|target/.test(r),c=/rep√®re|orthonorm|cart√©sien/.test(r);return s?(0,i.jsx)(m,{description:t}):n?(0,i.jsx)(j,{description:t}):c?(0,i.jsx)(p,{description:t}):(0,i.jsx)(_,{description:t,icon:"üìê",label:"Figure g√©om√©trique"})}function m(e){let{description:t}=e;return(0,i.jsxs)("div",{className:"figure-render figure-render--geometry",children:[(0,i.jsxs)("svg",{viewBox:"0 0 200 220",className:"figure-render__geo-svg",children:[(0,i.jsx)("line",{x1:"80",y1:"10",x2:"120",y2:"10",stroke:"#333",strokeWidth:"2"}),(0,i.jsx)("line",{x1:"90",y1:"10",x2:"85",y2:"5",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"100",y1:"10",x2:"95",y2:"5",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"110",y1:"10",x2:"105",y2:"5",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("circle",{cx:"100",cy:"12",r:"3",fill:"#333"}),(0,i.jsx)("text",{x:"108",y:"16",fontSize:"10",fill:"#333",children:"O"}),(0,i.jsx)("line",{x1:"100",y1:"12",x2:"100",y2:"180",stroke:"#999",strokeWidth:"1",strokeDasharray:"4,3"}),(0,i.jsx)("line",{x1:"100",y1:"12",x2:"100",y2:"170",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("circle",{cx:"100",cy:"175",r:"8",fill:"#457b9d",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("line",{x1:"100",y1:"12",x2:"145",y2:"150",stroke:"#e63946",strokeWidth:"1",strokeDasharray:"5,3"}),(0,i.jsx)("circle",{cx:"148",cy:"155",r:"7",fill:"none",stroke:"#e63946",strokeWidth:"1",strokeDasharray:"3,2"}),(0,i.jsx)("path",{d:"M100,60 A50,50 0 0,1 118,55",fill:"none",stroke:"#f59e0b",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:"114",y:"50",fontSize:"10",fill:"#f59e0b",children:"Œ±"}),(0,i.jsx)("text",{x:"82",y:"100",fontSize:"9",fill:"#333",children:"l"}),(0,i.jsx)("text",{x:"104",y:"186",fontSize:"9",fill:"#457b9d",children:"m"})]}),(0,i.jsx)("div",{className:"figure-render__geo-desc",children:(0,i.jsx)(d,{text:t})})]})}function j(e){let{description:t}=e;const r=["#fee2e2","#fef3c7","#dcfce7","#ef4444"],s=[1,3,5,10];return(0,i.jsxs)("div",{className:"figure-render figure-render--geometry",children:[(0,i.jsx)("svg",{viewBox:"0 0 200 200",className:"figure-render__geo-svg",children:[80,60,40,20].map((e,t)=>(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:"100",cy:"100",r:e,fill:r[t],stroke:"#333",strokeWidth:"1"}),(0,i.jsxs)("text",{x:100+e-12,y:"100",fontSize:"9",fill:"#333",fontWeight:"600",children:[s[t],"pt"]})]},t))}),(0,i.jsx)("div",{className:"figure-render__geo-desc",children:(0,i.jsx)(d,{text:t})})]})}function p(e){let{description:t}=e;return(0,i.jsxs)("div",{className:"figure-render figure-render--geometry",children:[(0,i.jsxs)("svg",{viewBox:"0 0 240 240",className:"figure-render__geo-svg",children:[Array.from({length:9},(e,t)=>(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:30+22*t,y1:"20",x2:30+22*t,y2:"220",stroke:"rgba(0,0,0,0.06)",strokeWidth:"0.5"}),(0,i.jsx)("line",{x1:"20",y1:30+22*t,x2:"220",y2:30+22*t,stroke:"rgba(0,0,0,0.06)",strokeWidth:"0.5"})]},t)),(0,i.jsx)("line",{x1:"120",y1:"220",x2:"120",y2:"15",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("line",{x1:"15",y1:"120",x2:"225",y2:"120",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("polygon",{points:"120,15 116,25 124,25",fill:"#333"}),(0,i.jsx)("polygon",{points:"225,120 215,116 215,124",fill:"#333"}),(0,i.jsx)("text",{x:"125",y:"28",fontSize:"10",fill:"#333",children:"»≥"}),(0,i.jsx)("text",{x:"212",y:"115",fontSize:"10",fill:"#333",children:"xÃÑ"}),(0,i.jsx)("text",{x:"108",y:"134",fontSize:"10",fill:"#333",children:"O"}),[-3,-2,-1,1,2,3].map(e=>(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:120+22*e,y1:"117",x2:120+22*e,y2:"123",stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("text",{x:120+22*e,y:"135",fontSize:"8",textAnchor:"middle",fill:"#666",children:e}),(0,i.jsx)("line",{x1:"117",y1:120-22*e,x2:"123",y2:120-22*e,stroke:"#333",strokeWidth:"1"}),(0,i.jsx)("text",{x:"110",y:123-22*e,fontSize:"8",textAnchor:"end",fill:"#666",children:e})]},e))]}),(0,i.jsx)("div",{className:"figure-render__geo-desc",children:(0,i.jsx)(d,{text:t})})]})}function y(e){let{description:t}=e;const r=(t||"").toLowerCase(),s=/benz√®ne|aromatique|hexagone.*cercle|aromatic/.test(r),n=/cha√Æne|chain|zigzag|carbone/.test(r);return s?(0,i.jsx)(k,{description:t}):n?(0,i.jsx)(b,{description:t}):(0,i.jsx)(_,{description:t,icon:"üß™",label:"Structure chimique"})}function k(e){var t;let{description:r}=e;const s=(r||"").toLowerCase(),n=(null===(t=s.match(/group[e]?\s+(?:nitro|amino|hydroxyl|m√©thyl)/i))||void 0===t||t[0],/nitro/.test(s)?"NO‚ÇÇ":/amino/.test(s)?"NH‚ÇÇ":/hydroxyl/.test(s)?"OH":/m√©thyl/.test(s)?"CH‚ÇÉ":""),c=Array.from({length:6},(e,t)=>{const r=Math.PI/3*t-Math.PI/2;return[120+40*Math.cos(r),100+40*Math.sin(r)]});return(0,i.jsxs)("div",{className:"figure-render figure-render--chemistry",children:[(0,i.jsxs)("svg",{viewBox:"0 0 240 200",className:"figure-render__chem-svg",children:[(0,i.jsx)("polygon",{points:c.map(e=>e.join(",")).join(" "),fill:"none",stroke:"#333",strokeWidth:"1.5"}),(0,i.jsx)("circle",{cx:120,cy:100,r:22,fill:"none",stroke:"#333",strokeWidth:"1",strokeDasharray:"4,2"}),n&&(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:c[0][0],y1:c[0][1],x2:c[0][0],y2:c[0][1]-25,stroke:"#e63946",strokeWidth:"1.5"}),(0,i.jsx)("text",{x:c[0][0],y:c[0][1]-30,fontSize:"11",textAnchor:"middle",fill:"#e63946",fontWeight:"600",children:n})]})]}),(0,i.jsx)("div",{className:"figure-render__chem-desc",children:(0,i.jsx)(d,{text:r})})]})}function b(e){let{description:t}=e;const r=(t||"").match(/(\d+)\s*carbon/i),s=r?parseInt(r[1]):4,n=Math.min(Math.max(s,2),8),c=[];for(let e=0;e<n;e++)c.push([40+35*e,e%2==0?80:50]);return(0,i.jsxs)("div",{className:"figure-render figure-render--chemistry",children:[(0,i.jsxs)("svg",{viewBox:"0 0 340 140",className:"figure-render__chem-svg",children:[c.slice(0,-1).map((e,t)=>(0,i.jsx)("line",{x1:e[0],y1:e[1],x2:c[t+1][0],y2:c[t+1][1],stroke:"#333",strokeWidth:"1.5"},t)),c.map((e,t)=>(0,i.jsxs)("text",{x:e[0],y:e[1]+(t%2==0?18:-8),fontSize:"10",textAnchor:"middle",fill:"#457b9d",fontWeight:"600",children:["C",t+1]},t))]}),(0,i.jsx)("div",{className:"figure-render__chem-desc",children:(0,i.jsx)(d,{text:t})})]})}function v(e){let{description:t}=e;const r=(0,s.useRef)(null),[,c]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l(()=>c(!0))},[]),(0,s.useEffect)(()=>{if(!r.current||!n)return;const e=t.match(/\$([^$]+)\$/),s=e?e[1]:t;try{n.render(s,r.current,{throwOnError:!1,displayMode:!0})}catch(e){r.current.textContent=t}},[t,n]),(0,i.jsx)("div",{className:"figure-render figure-render--equation",children:(0,i.jsx)("div",{ref:r,className:"figure-render__equation-display"})})}function _(e){let{description:t,icon:r,label:s}=e;return(0,i.jsxs)("div",{className:"figure-render figure-render--card",children:[(0,i.jsxs)("div",{className:"figure-render__card-header",children:[(0,i.jsx)("span",{className:"figure-render__card-icon",children:r||"üìã"}),(0,i.jsx)("span",{className:"figure-render__card-label",children:s||"Figure"})]}),(0,i.jsx)("div",{className:"figure-render__card-body",children:(0,i.jsx)(d,{text:t})})]})}function A(e){let{description:t}=e;return(0,i.jsxs)("div",{className:"figure-render figure-render--image",children:[(0,i.jsxs)("div",{className:"figure-render__image-placeholder",children:[(0,i.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,i.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,i.jsx)("path",{d:"M21 15l-5-5L5 21"})]}),(0,i.jsx)("span",{children:"Image d√©crite"})]}),(0,i.jsx)("div",{className:"figure-render__image-desc",children:(0,i.jsx)(d,{text:t})})]})}function W(e){let{description:t,compact:r=!1}=e;const n=(0,s.useMemo)(()=>function(e){const t=(e||"").toLowerCase();return/\btable(?:au)?\b/.test(t)||/colonnes?\b/.test(t)||/\brignes?\b/.test(t)||/\brows?\b/.test(t)||/\bcolumns?\b/.test(t)?a.TABLE:/circuit|r√©sistance|condensateur|capacit|bobine|voltm√®tre|amp√®rem√®tre|dip√¥le|g√©n√©rateur/.test(t)||/\b(resistor|capacitor|inductor|lamp|battery|voltmeter)\b/.test(t)?a.CIRCUIT:/graphique|courbe|axe\s+(horizontal|vertical)|diagramme.*(bar|cercle|b√¢ton)|graphe\b/.test(t)||/\b(graph|chart|plot|axis|curve)\b/.test(t)?a.GRAPH:/benz√®ne|cycle aromatique|mol√©cule|formule (topologique|semi-d√©velopp√©e|d√©velopp√©e)|substitu√©|cha√Æne (principale|carbon√©e)|group|amine|carbonyle|carboxyle/.test(t)||/\b(zigzag chain|carbon atoms|functional group|chemical structure|organic)\b/.test(t)?a.CHEMISTRY:/pendule|triangle|rectangle|cercle|carr√©|parall√©logramme|angle|rep√®re orthonorm|vecteur|plan (cart√©sien|orthonorm√©)|g√©om√©tri/.test(t)||/concentri|rayon|diam√®tre|sommet/.test(t)?a.GEOMETRY:/^\$[^$]+\$$/.test(e.trim())||/√©quation|formule math√©matique|expression alg√©brique/.test(t)?a.EQUATION:/photograph|painting|image montrant|photo|coupe histologique|anatomie|sch√©ma.*(anatomique|biologique)/.test(t)?a.IMAGE:/sch√©ma|diagramme|repr√©sentation|figure/.test(t)?a.DIAGRAM:a.TEXT}(t),[t]);if(!t)return null;const c="figure-renderer ".concat(r?"figure-renderer--compact":"");let o;switch(n){case a.TABLE:o=(0,i.jsx)(x,{description:t});break;case a.GRAPH:o=(0,i.jsx)(h,{description:t});break;case a.CIRCUIT:o=(0,i.jsx)(f,{description:t});break;case a.GEOMETRY:o=(0,i.jsx)(g,{description:t});break;case a.CHEMISTRY:o=(0,i.jsx)(y,{description:t});break;case a.EQUATION:o=(0,i.jsx)(v,{description:t});break;case a.IMAGE:o=(0,i.jsx)(A,{description:t});break;case a.DIAGRAM:o=(0,i.jsx)(_,{description:t,icon:"üìä",label:"Sch√©ma"});break;case a.TEXT:default:o=(0,i.jsx)(_,{description:t,icon:"üìã",label:"Figure"})}return(0,i.jsx)("div",{className:c,children:o})}}}]);