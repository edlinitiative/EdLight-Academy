"use strict";(self.webpackChunkedlight_academy=self.webpackChunkedlight_academy||[]).push([[850],{6850:(s,e,a)=>{a.r(e),a.d(e,{default:()=>u});var t=a(6540),r=a(7767),n=a(7028),l=a(3212),c=a(9920),i=a(4848);function o(s){let{status:e}=s;const a={correct:{label:"âœ“ Correct",cls:"exam-results__badge--correct"},incorrect:{label:"âœ— Incorrect",cls:"exam-results__badge--incorrect"},manual:{label:"ğŸ‘ RÃ©vision",cls:"exam-results__badge--manual"},unanswered:{label:"â€” Vide",cls:"exam-results__badge--unanswered"}},t=a[e]||a.unanswered;return(0,i.jsx)("span",{className:"exam-results__badge ".concat(t.cls),children:t.label})}const u=()=>{const{examIndex:s}=(0,r.g)(),e=(0,r.Zp)(),a=(0,t.useMemo)(()=>{try{const e=sessionStorage.getItem("exam-result-".concat(s));return e?JSON.parse(e):null}catch(s){return null}},[s]);if(!a)return(0,i.jsx)("section",{className:"section",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"card card--message",children:[(0,i.jsx)("p",{children:"Aucun rÃ©sultat trouvÃ© pour cet examen."}),(0,i.jsx)("button",{className:"button button--primary",onClick:()=>e("/exams"),children:"â† Retour aux examens"})]})})});const{result:u,examTitle:m,subject:x,level:d}=a,{summary:_,results:h}=u,p=(0,c.cS)(x),j=_.percentage,N=2*Math.PI*54,b=N-N*j/100,v=j>=80?"Excellent !":j>=60?"Bien":j>=40?"Passable":"Ã€ amÃ©liorer",g=j>=80?"ğŸ†":j>=60?"ğŸ‘":j>=40?"ğŸ“–":"ğŸ’ª",q=j>=60?"var(--success-500)":j>=40?"var(--warning-500)":"var(--danger-500)";return(0,i.jsx)("section",{className:"section exam-results",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"page-header exam-results__header",children:[(0,i.jsx)("button",{className:"button button--ghost button--sm",onClick:()=>e("/exams"),children:"â† Retour aux examens"}),(0,i.jsx)("h1",{className:"page-header__title",children:"RÃ©sultats"}),(0,i.jsxs)("p",{className:"page-header__subtitle",style:{color:p},children:[x," â€” ",m||"Examen"," ",d&&"(".concat(d,")")]})]}),(0,i.jsxs)("div",{className:"exam-results__overview","aria-label":"Score: ".concat(j,"%"),children:[(0,i.jsxs)("div",{className:"exam-results__score-ring",children:[(0,i.jsxs)("svg",{viewBox:"0 0 120 120",className:"exam-results__ring-svg",children:[(0,i.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"rgba(0,0,0,0.06)",strokeWidth:"8"}),(0,i.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:q,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:N,strokeDashoffset:b,transform:"rotate(-90 60 60)",style:{transition:"stroke-dashoffset 1s ease"}})]}),(0,i.jsxs)("div",{className:"exam-results__score-text",children:[(0,i.jsxs)("span",{className:"exam-results__score-pct",children:[j,"%"]}),(0,i.jsxs)("span",{className:"exam-results__score-label",children:[g," ",v]})]})]}),(0,i.jsxs)("div",{className:"exam-results__stats-grid",children:[(0,i.jsxs)("div",{className:"exam-results__stat-card",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.earnedPoints}),(0,i.jsxs)("span",{className:"exam-results__stat-label",children:["Points obtenus / ",_.totalPoints]})]}),(0,i.jsxs)("div",{className:"exam-results__stat-card exam-results__stat-card--correct",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.correctCount}),(0,i.jsx)("span",{className:"exam-results__stat-label",children:"RÃ©ponses correctes"})]}),(0,i.jsxs)("div",{className:"exam-results__stat-card exam-results__stat-card--incorrect",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.incorrectCount}),(0,i.jsx)("span",{className:"exam-results__stat-label",children:"RÃ©ponses incorrectes"})]}),(0,i.jsxs)("div",{className:"exam-results__stat-card",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.unanswered}),(0,i.jsx)("span",{className:"exam-results__stat-label",children:"Sans rÃ©ponse"})]}),_.manualReview>0&&(0,i.jsxs)("div",{className:"exam-results__stat-card exam-results__stat-card--manual",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.manualReview}),(0,i.jsx)("span",{className:"exam-results__stat-label",children:"Correction manuelle"})]}),(0,i.jsxs)("div",{className:"exam-results__stat-card",children:[(0,i.jsx)("span",{className:"exam-results__stat-number",children:_.autoGraded}),(0,i.jsx)("span",{className:"exam-results__stat-label",children:"Auto-corrigÃ©es"})]})]})]}),(0,i.jsxs)("div",{className:"exam-results__details",children:[(0,i.jsx)("h2",{className:"exam-results__details-title",children:"DÃ©tails par question"}),h.map((s,e)=>{const a=(0,c._Y)(s.question.type);return(0,i.jsxs)("div",{className:"card exam-results__item exam-results__item--".concat(s.status),children:[(0,i.jsxs)("div",{className:"exam-results__item-header",children:[(0,i.jsx)("span",{className:"exam-results__item-number",children:s.question._displayNumber||"Q".concat(e+1)}),(0,i.jsxs)("span",{className:"exam-results__item-type",children:[a.icon," ",a.label]}),(0,i.jsx)(o,{status:s.status}),s.result.maxPoints>0&&(0,i.jsxs)("span",{className:"exam-results__item-points",children:[s.result.awarded,"/",s.result.maxPoints," pt",1!==s.result.maxPoints?"s":""]})]}),(0,i.jsx)("div",{className:"exam-results__item-question",children:(0,i.jsx)(l.A,{text:s.question._displayText||s.question.question})}),s.question.has_figure&&s.question.figure_description&&(0,i.jsx)(n.A,{description:s.question.figure_description,compact:!0}),s.userAnswer&&(0,i.jsxs)("div",{className:"exam-results__item-answer",children:[(0,i.jsx)("strong",{children:"Votre rÃ©ponse :"})," ","multiple_choice"===s.question.type&&s.question.options?"".concat(s.userAnswer.toUpperCase(),") ").concat(s.question.options[s.userAnswer]||s.userAnswer):String(s.userAnswer)]}),s.question.correct&&(0,i.jsxs)("div",{className:"exam-results__item-correct",children:[(0,i.jsx)("strong",{children:"RÃ©ponse correcte :"})," ","multiple_choice"===s.question.type&&s.question.options?"".concat(s.question.correct.toUpperCase(),") ").concat(s.question.options[s.question.correct]||s.question.correct):String(s.question.correct)]}),s.question.explanation&&(0,i.jsxs)("div",{className:"exam-results__item-explanation",children:["ğŸ’¡ ",s.question.explanation]})]},e)})]}),(0,i.jsxs)("div",{className:"exam-results__actions",children:[(0,i.jsx)("button",{className:"button button--primary",onClick:()=>e("/exams/".concat(s)),children:"ğŸ”„ Recommencer cet examen"}),(0,i.jsx)("button",{className:"button button--ghost",onClick:()=>e("/exams"),children:"ğŸ“ Choisir un autre examen"})]})]})})}}}]);